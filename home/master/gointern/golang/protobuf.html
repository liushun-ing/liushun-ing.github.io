<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.62">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/home/imgs/favicon.ico"><title>Protobuf3 | 不愿飞的蜂鸟首页</title><meta name="description" content="Five的垃圾库">
    <link rel="preload" href="/home/assets/style-d11d67ee.css" as="style"><link rel="stylesheet" href="/home/assets/style-d11d67ee.css">
    <link rel="modulepreload" href="/home/assets/app-19500e8e.js"><link rel="modulepreload" href="/home/assets/protobuf.html-30f287d9.js"><link rel="modulepreload" href="/home/assets/protobuf.html-5e6b3963.js"><link rel="prefetch" href="/home/assets/index.html-572e34ff.js" as="script"><link rel="prefetch" href="/home/assets/index.html-81b2fcca.js" as="script"><link rel="prefetch" href="/home/assets/index.html-9c4bb6b4.js" as="script"><link rel="prefetch" href="/home/assets/index.html-e3696301.js" as="script"><link rel="prefetch" href="/home/assets/index.html-1cea109f.js" as="script"><link rel="prefetch" href="/home/assets/1.html-b316c5ed.js" as="script"><link rel="prefetch" href="/home/assets/2.html-ac2ea519.js" as="script"><link rel="prefetch" href="/home/assets/3.html-a16fc765.js" as="script"><link rel="prefetch" href="/home/assets/4.html-798018cd.js" as="script"><link rel="prefetch" href="/home/assets/5.html-18ce25f4.js" as="script"><link rel="prefetch" href="/home/assets/6.html-f31143bd.js" as="script"><link rel="prefetch" href="/home/assets/index.html-d4d6df4d.js" as="script"><link rel="prefetch" href="/home/assets/index.html-b98c27b4.js" as="script"><link rel="prefetch" href="/home/assets/algorithms.html-f5b5ee0a.js" as="script"><link rel="prefetch" href="/home/assets/c__.html-05ab7a9e.js" as="script"><link rel="prefetch" href="/home/assets/graph.html-dab7b16e.js" as="script"><link rel="prefetch" href="/home/assets/leetcode.html-f105e9f1.js" as="script"><link rel="prefetch" href="/home/assets/other_tree.html-22fe33b0.js" as="script"><link rel="prefetch" href="/home/assets/sort_and_search.html-11f53bfb.js" as="script"><link rel="prefetch" href="/home/assets/string.html-e9db3916.js" as="script"><link rel="prefetch" href="/home/assets/tree.html-ec32110e.js" as="script"><link rel="prefetch" href="/home/assets/1.html-99884eac.js" as="script"><link rel="prefetch" href="/home/assets/10.html-75dc6e9d.js" as="script"><link rel="prefetch" href="/home/assets/11.html-44ed8d03.js" as="script"><link rel="prefetch" href="/home/assets/12.html-1cafae42.js" as="script"><link rel="prefetch" href="/home/assets/13.html-cf9e5046.js" as="script"><link rel="prefetch" href="/home/assets/14.html-513b431e.js" as="script"><link rel="prefetch" href="/home/assets/2.html-094a87ee.js" as="script"><link rel="prefetch" href="/home/assets/3.html-4a8b2796.js" as="script"><link rel="prefetch" href="/home/assets/4.html-1f39f3b9.js" as="script"><link rel="prefetch" href="/home/assets/5.html-e78784fc.js" as="script"><link rel="prefetch" href="/home/assets/6.html-cc4acb22.js" as="script"><link rel="prefetch" href="/home/assets/7.html-ff096a2a.js" as="script"><link rel="prefetch" href="/home/assets/8.html-14b4319a.js" as="script"><link rel="prefetch" href="/home/assets/9.html-f1fd1f24.js" as="script"><link rel="prefetch" href="/home/assets/index.html-47fde470.js" as="script"><link rel="prefetch" href="/home/assets/1.html-769a7684.js" as="script"><link rel="prefetch" href="/home/assets/2.html-594984b8.js" as="script"><link rel="prefetch" href="/home/assets/3.html-5ac058a8.js" as="script"><link rel="prefetch" href="/home/assets/index.html-8a655167.js" as="script"><link rel="prefetch" href="/home/assets/framework.html-0ddb7519.js" as="script"><link rel="prefetch" href="/home/assets/interview.html-8d5ca02c.js" as="script"><link rel="prefetch" href="/home/assets/javabase.html-1fa8f93d.js" as="script"><link rel="prefetch" href="/home/assets/javacollection.html-b161f806.js" as="script"><link rel="prefetch" href="/home/assets/javaio.html-2bf0aab6.js" as="script"><link rel="prefetch" href="/home/assets/javajuc.html-df2ba12a.js" as="script"><link rel="prefetch" href="/home/assets/project.html-3006a5d9.js" as="script"><link rel="prefetch" href="/home/assets/23_Dec.html-b55b0d44.js" as="script"><link rel="prefetch" href="/home/assets/23_Nov.html-7f12af9c.js" as="script"><link rel="prefetch" href="/home/assets/24_Jan.html-aa29373f.js" as="script"><link rel="prefetch" href="/home/assets/index.html-cf670ace.js" as="script"><link rel="prefetch" href="/home/assets/index.html-1bcb2be9.js" as="script"><link rel="prefetch" href="/home/assets/docker_tutorial.html-4f5d0900.js" as="script"><link rel="prefetch" href="/home/assets/firewall_tutorial.html-a1c0f732.js" as="script"><link rel="prefetch" href="/home/assets/mysql_tutorial.html-4c6ba5d6.js" as="script"><link rel="prefetch" href="/home/assets/nginx_tutorial.html-93df5119.js" as="script"><link rel="prefetch" href="/home/assets/other_tutorial.html-c3d0505a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-e974d7fa.js" as="script"><link rel="prefetch" href="/home/assets/http1.html-a0a8b139.js" as="script"><link rel="prefetch" href="/home/assets/http2_3.html-f60e94e0.js" as="script"><link rel="prefetch" href="/home/assets/quicgo.html-d32c9694.js" as="script"><link rel="prefetch" href="/home/assets/index.html-875b10d5.js" as="script"><link rel="prefetch" href="/home/assets/action.html-612b3535.js" as="script"><link rel="prefetch" href="/home/assets/1.html-a99eaaf4.js" as="script"><link rel="prefetch" href="/home/assets/index.html-17ad9c14.js" as="script"><link rel="prefetch" href="/home/assets/1.html-039b4262.js" as="script"><link rel="prefetch" href="/home/assets/2.html-42769e2a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-25191acb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-bf41a08e.js" as="script"><link rel="prefetch" href="/home/assets/jwt.html-3b7c50b6.js" as="script"><link rel="prefetch" href="/home/assets/shiro.html-342768e3.js" as="script"><link rel="prefetch" href="/home/assets/index.html-5427bf36.js" as="script"><link rel="prefetch" href="/home/assets/nacos.html-9e867259.js" as="script"><link rel="prefetch" href="/home/assets/index.html-48e4d448.js" as="script"><link rel="prefetch" href="/home/assets/spring_annotation.html-9fe17a51.js" as="script"><link rel="prefetch" href="/home/assets/springboot.html-5ae0091a.js" as="script"><link rel="prefetch" href="/home/assets/springboot_base.html-e6d2a44d.js" as="script"><link rel="prefetch" href="/home/assets/index.html-8300b0d7.js" as="script"><link rel="prefetch" href="/home/assets/sse.html-93d7331d.js" as="script"><link rel="prefetch" href="/home/assets/index.html-45944739.js" as="script"><link rel="prefetch" href="/home/assets/websocket.html-bfea9a5c.js" as="script"><link rel="prefetch" href="/home/assets/index.html-906efca7.js" as="script"><link rel="prefetch" href="/home/assets/gas_fee.html-c58b85d9.js" as="script"><link rel="prefetch" href="/home/assets/monitoring.html-e2831156.js" as="script"><link rel="prefetch" href="/home/assets/statedb_execute.html-5cb28895.js" as="script"><link rel="prefetch" href="/home/assets/index.html-9d28340c.js" as="script"><link rel="prefetch" href="/home/assets/compose.html-6e147990.js" as="script"><link rel="prefetch" href="/home/assets/image_construct.html-f525e939.js" as="script"><link rel="prefetch" href="/home/assets/intro.html-a8080a8e.js" as="script"><link rel="prefetch" href="/home/assets/index.html-9a537b0e.js" as="script"><link rel="prefetch" href="/home/assets/account.html-2853d9e5.js" as="script"><link rel="prefetch" href="/home/assets/block.html-94b28f8f.js" as="script"><link rel="prefetch" href="/home/assets/consensus.html-f2ebcfe4.js" as="script"><link rel="prefetch" href="/home/assets/contract.html-9c7b645d.js" as="script"><link rel="prefetch" href="/home/assets/crypto_base.html-6d8b4a74.js" as="script"><link rel="prefetch" href="/home/assets/erc20.html-ff50c5d6.js" as="script"><link rel="prefetch" href="/home/assets/ethereum_base.html-da55f26d.js" as="script"><link rel="prefetch" href="/home/assets/evm.html-6a0e38eb.js" as="script"><link rel="prefetch" href="/home/assets/gas.html-9ec60ec7.js" as="script"><link rel="prefetch" href="/home/assets/go_ethereum.html-aa0f4eaf.js" as="script"><link rel="prefetch" href="/home/assets/hd_wallet.html-6c9d8440.js" as="script"><link rel="prefetch" href="/home/assets/jsonrpc.html-b2c4f1ec.js" as="script"><link rel="prefetch" href="/home/assets/leveldb.html-ac3467e2.js" as="script"><link rel="prefetch" href="/home/assets/mev.html-d47d2b55.js" as="script"><link rel="prefetch" href="/home/assets/mpt.html-faa8bd61.js" as="script"><link rel="prefetch" href="/home/assets/node_client.html-bafc688f.js" as="script"><link rel="prefetch" href="/home/assets/rlp.html-6c7023bd.js" as="script"><link rel="prefetch" href="/home/assets/statedb.html-604a1125.js" as="script"><link rel="prefetch" href="/home/assets/transaction.html-fd03a1db.js" as="script"><link rel="prefetch" href="/home/assets/index.html-c61d16bc.js" as="script"><link rel="prefetch" href="/home/assets/dependency.html-bb61300c.js" as="script"><link rel="prefetch" href="/home/assets/distributed.html-a9041e99.js" as="script"><link rel="prefetch" href="/home/assets/embed.html-e968cfea.js" as="script"><link rel="prefetch" href="/home/assets/gin.html-09d325ef.js" as="script"><link rel="prefetch" href="/home/assets/gorm_1.html-d59fdd4f.js" as="script"><link rel="prefetch" href="/home/assets/gorm_2.html-727b1398.js" as="script"><link rel="prefetch" href="/home/assets/goweb.html-b313550d.js" as="script"><link rel="prefetch" href="/home/assets/gowork.html-0abcfd8a.js" as="script"><link rel="prefetch" href="/home/assets/rpc.html-49516482.js" as="script"><link rel="prefetch" href="/home/assets/template.html-6e1d57e6.js" as="script"><link rel="prefetch" href="/home/assets/test.html-b74a5fe8.js" as="script"><link rel="prefetch" href="/home/assets/index.html-49f8ed57.js" as="script"><link rel="prefetch" href="/home/assets/dockerbase.html-a8b8ba93.js" as="script"><link rel="prefetch" href="/home/assets/dockerutil.html-8dde5f03.js" as="script"><link rel="prefetch" href="/home/assets/k8sbase.html-10fc3cd8.js" as="script"><link rel="prefetch" href="/home/assets/index.html-29985db1.js" as="script"><link rel="prefetch" href="/home/assets/base.html-e9cc1d25.js" as="script"><link rel="prefetch" href="/home/assets/progress.html-bc186191.js" as="script"><link rel="prefetch" href="/home/assets/script.html-ad0167af.js" as="script"><link rel="prefetch" href="/home/assets/index.html-5ed5500b.js" as="script"><link rel="prefetch" href="/home/assets/alert.html-18775f8e.js" as="script"><link rel="prefetch" href="/home/assets/clustering.html-421c3075.js" as="script"><link rel="prefetch" href="/home/assets/exporter.html-dd62614c.js" as="script"><link rel="prefetch" href="/home/assets/intro.html-2e6387ab.js" as="script"><link rel="prefetch" href="/home/assets/promql.html-4d31a6dd.js" as="script"><link rel="prefetch" href="/home/assets/servicediscovery.html-a73eedc9.js" as="script"><link rel="prefetch" href="/home/assets/1.html-342ba6a2.js" as="script"><link rel="prefetch" href="/home/assets/2.html-9d1d33ab.js" as="script"><link rel="prefetch" href="/home/assets/3.html-420b60d1.js" as="script"><link rel="prefetch" href="/home/assets/4.html-0c33cb96.js" as="script"><link rel="prefetch" href="/home/assets/index.html-ef6613b6.js" as="script"><link rel="prefetch" href="/home/assets/index.html-f1fe6766.js" as="script"><link rel="prefetch" href="/home/assets/base.html-9c1a8c70.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_1.html-a1a0dbb9.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_2.html-23b3205f.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_3.html-dd05c473.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_4.html-2255bd42.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_5.html-6695fe54.js" as="script"><link rel="prefetch" href="/home/assets/index.html-475b16d3.js" as="script"><link rel="prefetch" href="/home/assets/mybatis.html-60af6436.js" as="script"><link rel="prefetch" href="/home/assets/1.html-7b6a4ff5.js" as="script"><link rel="prefetch" href="/home/assets/2.html-b2effb91.js" as="script"><link rel="prefetch" href="/home/assets/3.html-d3ac085e.js" as="script"><link rel="prefetch" href="/home/assets/4.html-99b856c6.js" as="script"><link rel="prefetch" href="/home/assets/index.html-2fe01cf3.js" as="script"><link rel="prefetch" href="/home/assets/5.html-2b5215e6.js" as="script"><link rel="prefetch" href="/home/assets/6.html-5eb745fc.js" as="script"><link rel="prefetch" href="/home/assets/7.html-e0f55493.js" as="script"><link rel="prefetch" href="/home/assets/Mybatis.html-ab767174.js" as="script"><link rel="prefetch" href="/home/assets/index.html-cda968a1.js" as="script"><link rel="prefetch" href="/home/assets/Spring.html-a235f111.js" as="script"><link rel="prefetch" href="/home/assets/SpringBoot.html-4e1a0864.js" as="script"><link rel="prefetch" href="/home/assets/SpringMVC.html-ba2c9249.js" as="script"><link rel="prefetch" href="/home/assets/1.html-c0601720.js" as="script"><link rel="prefetch" href="/home/assets/2.html-b385ca87.js" as="script"><link rel="prefetch" href="/home/assets/index.html-51b571aa.js" as="script"><link rel="prefetch" href="/home/assets/index.html-dd4a83b7.js" as="script"><link rel="prefetch" href="/home/assets/js1.html-4f0189b7.js" as="script"><link rel="prefetch" href="/home/assets/js2.html-b2f67863.js" as="script"><link rel="prefetch" href="/home/assets/js3.html-977a81ee.js" as="script"><link rel="prefetch" href="/home/assets/js4.html-da3ceb1f.js" as="script"><link rel="prefetch" href="/home/assets/js5.html-11561de9.js" as="script"><link rel="prefetch" href="/home/assets/ts1.html-75fe969e.js" as="script"><link rel="prefetch" href="/home/assets/index.html-08940111.js" as="script"><link rel="prefetch" href="/home/assets/csstip.html-7f10a073.js" as="script"><link rel="prefetch" href="/home/assets/hcbase.html-9c897ce9.js" as="script"><link rel="prefetch" href="/home/assets/less.html-2511230b.js" as="script"><link rel="prefetch" href="/home/assets/sass.html-b6cc12d0.js" as="script"><link rel="prefetch" href="/home/assets/1.html-04396916.js" as="script"><link rel="prefetch" href="/home/assets/2.html-0c5f80dd.js" as="script"><link rel="prefetch" href="/home/assets/3.html-ed5b59c6.js" as="script"><link rel="prefetch" href="/home/assets/4.html-a7547c48.js" as="script"><link rel="prefetch" href="/home/assets/5.html-526c1f94.js" as="script"><link rel="prefetch" href="/home/assets/6.html-70b74abb.js" as="script"><link rel="prefetch" href="/home/assets/7.html-18cc0763.js" as="script"><link rel="prefetch" href="/home/assets/8.html-71d7e0fb.js" as="script"><link rel="prefetch" href="/home/assets/9.html-13f348cb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-3b884cd3.js" as="script"><link rel="prefetch" href="/home/assets/new.html-6aafd387.js" as="script"><link rel="prefetch" href="/home/assets/1.html-858e9d7f.js" as="script"><link rel="prefetch" href="/home/assets/index.html-816d05ce.js" as="script"><link rel="prefetch" href="/home/assets/1.html-39cd475a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-9f828ad7.js" as="script"><link rel="prefetch" href="/home/assets/index.html-a09987ac.js" as="script"><link rel="prefetch" href="/home/assets/api_tutorial.html-560e4b8c.js" as="script"><link rel="prefetch" href="/home/assets/base_tutorial.html-de6c9653.js" as="script"><link rel="prefetch" href="/home/assets/pinia.html-36c281de.js" as="script"><link rel="prefetch" href="/home/assets/vue2.html-7fe9ae04.js" as="script"><link rel="prefetch" href="/home/assets/vue3_1.html-ca1218ae.js" as="script"><link rel="prefetch" href="/home/assets/vue3_2.html-8e7c1a7a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-bdf14349.js" as="script"><link rel="prefetch" href="/home/assets/base_concept.html-e5e444c4.js" as="script"><link rel="prefetch" href="/home/assets/python_usage.html-1566edbf.js" as="script"><link rel="prefetch" href="/home/assets/pytorch_usage.html-261e26aa.js" as="script"><link rel="prefetch" href="/home/assets/index.html-b6ef7879.js" as="script"><link rel="prefetch" href="/home/assets/base_usage.html-73b2ff79.js" as="script"><link rel="prefetch" href="/home/assets/index.html-0653102b.js" as="script"><link rel="prefetch" href="/home/assets/java_usage.html-fa3119c0.js" as="script"><link rel="prefetch" href="/home/assets/python_usage.html-c32dac90.js" as="script"><link rel="prefetch" href="/home/assets/system_usage.html-36cb019c.js" as="script"><link rel="prefetch" href="/home/assets/index.html-7ddbcb73.js" as="script"><link rel="prefetch" href="/home/assets/uniCloud.html-722a8a0d.js" as="script"><link rel="prefetch" href="/home/assets/uniTips.html-e3612160.js" as="script"><link rel="prefetch" href="/home/assets/1.html-0f1d8a67.js" as="script"><link rel="prefetch" href="/home/assets/2.html-4855c68e.js" as="script"><link rel="prefetch" href="/home/assets/index.html-81e84a0c.js" as="script"><link rel="prefetch" href="/home/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/home/assets/index.html-1da0b31b.js" as="script"><link rel="prefetch" href="/home/assets/index.html-505931d1.js" as="script"><link rel="prefetch" href="/home/assets/index.html-f309b686.js" as="script"><link rel="prefetch" href="/home/assets/index.html-2f65dffc.js" as="script"><link rel="prefetch" href="/home/assets/index.html-ce366aca.js" as="script"><link rel="prefetch" href="/home/assets/1.html-20b39e4c.js" as="script"><link rel="prefetch" href="/home/assets/2.html-4bd61682.js" as="script"><link rel="prefetch" href="/home/assets/3.html-519c61a9.js" as="script"><link rel="prefetch" href="/home/assets/4.html-ce90c94f.js" as="script"><link rel="prefetch" href="/home/assets/5.html-3a2f0d1f.js" as="script"><link rel="prefetch" href="/home/assets/6.html-afbb4dfe.js" as="script"><link rel="prefetch" href="/home/assets/index.html-e646daee.js" as="script"><link rel="prefetch" href="/home/assets/index.html-b2f4032e.js" as="script"><link rel="prefetch" href="/home/assets/algorithms.html-ece91873.js" as="script"><link rel="prefetch" href="/home/assets/c__.html-4db8c3ef.js" as="script"><link rel="prefetch" href="/home/assets/graph.html-8392346b.js" as="script"><link rel="prefetch" href="/home/assets/leetcode.html-900e5053.js" as="script"><link rel="prefetch" href="/home/assets/other_tree.html-ad1c07bb.js" as="script"><link rel="prefetch" href="/home/assets/sort_and_search.html-a40398c1.js" as="script"><link rel="prefetch" href="/home/assets/string.html-e475e597.js" as="script"><link rel="prefetch" href="/home/assets/tree.html-a090ed0c.js" as="script"><link rel="prefetch" href="/home/assets/1.html-18a6fa36.js" as="script"><link rel="prefetch" href="/home/assets/10.html-f69e137f.js" as="script"><link rel="prefetch" href="/home/assets/11.html-ec0d9bdb.js" as="script"><link rel="prefetch" href="/home/assets/12.html-1990d16f.js" as="script"><link rel="prefetch" href="/home/assets/13.html-fd16c189.js" as="script"><link rel="prefetch" href="/home/assets/14.html-55e6ce69.js" as="script"><link rel="prefetch" href="/home/assets/2.html-9030baec.js" as="script"><link rel="prefetch" href="/home/assets/3.html-7559a747.js" as="script"><link rel="prefetch" href="/home/assets/4.html-38e164f6.js" as="script"><link rel="prefetch" href="/home/assets/5.html-e83b5f65.js" as="script"><link rel="prefetch" href="/home/assets/6.html-b6796d0b.js" as="script"><link rel="prefetch" href="/home/assets/7.html-118d9d95.js" as="script"><link rel="prefetch" href="/home/assets/8.html-1423ef64.js" as="script"><link rel="prefetch" href="/home/assets/9.html-4fab2657.js" as="script"><link rel="prefetch" href="/home/assets/index.html-61e9228e.js" as="script"><link rel="prefetch" href="/home/assets/1.html-bf2d7aef.js" as="script"><link rel="prefetch" href="/home/assets/2.html-40e3b121.js" as="script"><link rel="prefetch" href="/home/assets/3.html-0a3bf819.js" as="script"><link rel="prefetch" href="/home/assets/index.html-7197ad5a.js" as="script"><link rel="prefetch" href="/home/assets/framework.html-87e6b3ae.js" as="script"><link rel="prefetch" href="/home/assets/interview.html-30aa6465.js" as="script"><link rel="prefetch" href="/home/assets/javabase.html-c35fc6bf.js" as="script"><link rel="prefetch" href="/home/assets/javacollection.html-5b0af671.js" as="script"><link rel="prefetch" href="/home/assets/javaio.html-2a0bc3ec.js" as="script"><link rel="prefetch" href="/home/assets/javajuc.html-6ad465fc.js" as="script"><link rel="prefetch" href="/home/assets/project.html-30b4d293.js" as="script"><link rel="prefetch" href="/home/assets/23_Dec.html-06157d29.js" as="script"><link rel="prefetch" href="/home/assets/23_Nov.html-7e222fb1.js" as="script"><link rel="prefetch" href="/home/assets/24_Jan.html-747212c4.js" as="script"><link rel="prefetch" href="/home/assets/index.html-b1bbbecb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-be6659ac.js" as="script"><link rel="prefetch" href="/home/assets/docker_tutorial.html-d7bd08fc.js" as="script"><link rel="prefetch" href="/home/assets/firewall_tutorial.html-78265787.js" as="script"><link rel="prefetch" href="/home/assets/mysql_tutorial.html-d0c5d60f.js" as="script"><link rel="prefetch" href="/home/assets/nginx_tutorial.html-a7223567.js" as="script"><link rel="prefetch" href="/home/assets/other_tutorial.html-4222ef24.js" as="script"><link rel="prefetch" href="/home/assets/index.html-843562b1.js" as="script"><link rel="prefetch" href="/home/assets/http1.html-4c2d1125.js" as="script"><link rel="prefetch" href="/home/assets/http2_3.html-8c3a6bc4.js" as="script"><link rel="prefetch" href="/home/assets/quicgo.html-dfaf312f.js" as="script"><link rel="prefetch" href="/home/assets/index.html-78ebbfc8.js" as="script"><link rel="prefetch" href="/home/assets/action.html-40b7bcf6.js" as="script"><link rel="prefetch" href="/home/assets/1.html-9287c4f8.js" as="script"><link rel="prefetch" href="/home/assets/index.html-ae06d153.js" as="script"><link rel="prefetch" href="/home/assets/1.html-c21dbe54.js" as="script"><link rel="prefetch" href="/home/assets/2.html-8e9868cd.js" as="script"><link rel="prefetch" href="/home/assets/index.html-6c1a013a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-ce889d54.js" as="script"><link rel="prefetch" href="/home/assets/jwt.html-58ed7fd9.js" as="script"><link rel="prefetch" href="/home/assets/shiro.html-1b4933dc.js" as="script"><link rel="prefetch" href="/home/assets/index.html-2a803f1e.js" as="script"><link rel="prefetch" href="/home/assets/nacos.html-51bcef8a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-da32b50d.js" as="script"><link rel="prefetch" href="/home/assets/spring_annotation.html-5676956b.js" as="script"><link rel="prefetch" href="/home/assets/springboot.html-338bca45.js" as="script"><link rel="prefetch" href="/home/assets/springboot_base.html-78b1192a.js" as="script"><link rel="prefetch" href="/home/assets/index.html-254a24d7.js" as="script"><link rel="prefetch" href="/home/assets/sse.html-6c1094d7.js" as="script"><link rel="prefetch" href="/home/assets/index.html-fec5d62d.js" as="script"><link rel="prefetch" href="/home/assets/websocket.html-d4328efb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-8ad85040.js" as="script"><link rel="prefetch" href="/home/assets/gas_fee.html-d043a0a5.js" as="script"><link rel="prefetch" href="/home/assets/monitoring.html-35258cdb.js" as="script"><link rel="prefetch" href="/home/assets/statedb_execute.html-d74d2d35.js" as="script"><link rel="prefetch" href="/home/assets/index.html-d78ebb0c.js" as="script"><link rel="prefetch" href="/home/assets/compose.html-7d1c8e33.js" as="script"><link rel="prefetch" href="/home/assets/image_construct.html-11bead73.js" as="script"><link rel="prefetch" href="/home/assets/intro.html-a51a5700.js" as="script"><link rel="prefetch" href="/home/assets/index.html-92c77583.js" as="script"><link rel="prefetch" href="/home/assets/account.html-78dc82ce.js" as="script"><link rel="prefetch" href="/home/assets/block.html-e2eb56d1.js" as="script"><link rel="prefetch" href="/home/assets/consensus.html-ac252f22.js" as="script"><link rel="prefetch" href="/home/assets/contract.html-253a2e37.js" as="script"><link rel="prefetch" href="/home/assets/crypto_base.html-39d4915c.js" as="script"><link rel="prefetch" href="/home/assets/erc20.html-0aa14180.js" as="script"><link rel="prefetch" href="/home/assets/ethereum_base.html-173b303e.js" as="script"><link rel="prefetch" href="/home/assets/evm.html-5ff391b4.js" as="script"><link rel="prefetch" href="/home/assets/gas.html-984ab1ac.js" as="script"><link rel="prefetch" href="/home/assets/go_ethereum.html-98badcb5.js" as="script"><link rel="prefetch" href="/home/assets/hd_wallet.html-b2f39ce7.js" as="script"><link rel="prefetch" href="/home/assets/jsonrpc.html-e8ecb837.js" as="script"><link rel="prefetch" href="/home/assets/leveldb.html-4c07812d.js" as="script"><link rel="prefetch" href="/home/assets/mev.html-ba285f0c.js" as="script"><link rel="prefetch" href="/home/assets/mpt.html-6c567d4e.js" as="script"><link rel="prefetch" href="/home/assets/node_client.html-8a7f9dfe.js" as="script"><link rel="prefetch" href="/home/assets/rlp.html-92385921.js" as="script"><link rel="prefetch" href="/home/assets/statedb.html-ff13331d.js" as="script"><link rel="prefetch" href="/home/assets/transaction.html-128d711d.js" as="script"><link rel="prefetch" href="/home/assets/index.html-c4dc20db.js" as="script"><link rel="prefetch" href="/home/assets/dependency.html-9f6869ff.js" as="script"><link rel="prefetch" href="/home/assets/distributed.html-78865f87.js" as="script"><link rel="prefetch" href="/home/assets/embed.html-94a205ba.js" as="script"><link rel="prefetch" href="/home/assets/gin.html-3e70bb5f.js" as="script"><link rel="prefetch" href="/home/assets/gorm_1.html-5d3f15dc.js" as="script"><link rel="prefetch" href="/home/assets/gorm_2.html-eb132aff.js" as="script"><link rel="prefetch" href="/home/assets/goweb.html-204af1fd.js" as="script"><link rel="prefetch" href="/home/assets/gowork.html-b16d9f66.js" as="script"><link rel="prefetch" href="/home/assets/rpc.html-bebd72a8.js" as="script"><link rel="prefetch" href="/home/assets/template.html-47c62bb7.js" as="script"><link rel="prefetch" href="/home/assets/test.html-76ea55eb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-8f6d1e8b.js" as="script"><link rel="prefetch" href="/home/assets/dockerbase.html-9c47f75a.js" as="script"><link rel="prefetch" href="/home/assets/dockerutil.html-a809aafd.js" as="script"><link rel="prefetch" href="/home/assets/k8sbase.html-425c1c8b.js" as="script"><link rel="prefetch" href="/home/assets/index.html-ddfc7a97.js" as="script"><link rel="prefetch" href="/home/assets/base.html-6143d366.js" as="script"><link rel="prefetch" href="/home/assets/progress.html-36384770.js" as="script"><link rel="prefetch" href="/home/assets/script.html-1c8fe0eb.js" as="script"><link rel="prefetch" href="/home/assets/index.html-aef7058a.js" as="script"><link rel="prefetch" href="/home/assets/alert.html-914dcb54.js" as="script"><link rel="prefetch" href="/home/assets/clustering.html-df3d790b.js" as="script"><link rel="prefetch" href="/home/assets/exporter.html-a2a1cb59.js" as="script"><link rel="prefetch" href="/home/assets/intro.html-9b21f473.js" as="script"><link rel="prefetch" href="/home/assets/promql.html-eeafaa35.js" as="script"><link rel="prefetch" href="/home/assets/servicediscovery.html-a85cc96d.js" as="script"><link rel="prefetch" href="/home/assets/1.html-1cefec78.js" as="script"><link rel="prefetch" href="/home/assets/2.html-2c5f9bed.js" as="script"><link rel="prefetch" href="/home/assets/3.html-596e6a40.js" as="script"><link rel="prefetch" href="/home/assets/4.html-783720ca.js" as="script"><link rel="prefetch" href="/home/assets/index.html-5a7a0df5.js" as="script"><link rel="prefetch" href="/home/assets/index.html-02602e3a.js" as="script"><link rel="prefetch" href="/home/assets/base.html-19694918.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_1.html-22c4df95.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_2.html-3562d754.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_3.html-3ceb5f22.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_4.html-2e177c1e.js" as="script"><link rel="prefetch" href="/home/assets/progress_section_5.html-b4f4ac00.js" as="script"><link rel="prefetch" href="/home/assets/index.html-0fa2f1c8.js" as="script"><link rel="prefetch" href="/home/assets/mybatis.html-d90748ce.js" as="script"><link rel="prefetch" href="/home/assets/1.html-66dfb712.js" as="script"><link rel="prefetch" href="/home/assets/2.html-8b6f5209.js" as="script"><link rel="prefetch" href="/home/assets/3.html-7f22c262.js" as="script"><link rel="prefetch" href="/home/assets/4.html-8cef5ae1.js" as="script"><link rel="prefetch" href="/home/assets/index.html-c4cbef48.js" as="script"><link rel="prefetch" href="/home/assets/5.html-cbe88c00.js" as="script"><link rel="prefetch" href="/home/assets/6.html-898bf4ec.js" as="script"><link rel="prefetch" href="/home/assets/7.html-9603fc9e.js" as="script"><link rel="prefetch" href="/home/assets/Mybatis.html-ab958037.js" as="script"><link rel="prefetch" href="/home/assets/index.html-4cfa4ab3.js" as="script"><link rel="prefetch" href="/home/assets/Spring.html-e4a39461.js" as="script"><link rel="prefetch" href="/home/assets/SpringBoot.html-f3152c54.js" as="script"><link rel="prefetch" href="/home/assets/SpringMVC.html-4c724a7b.js" as="script"><link rel="prefetch" href="/home/assets/1.html-90798522.js" as="script"><link rel="prefetch" href="/home/assets/2.html-1ca09726.js" as="script"><link rel="prefetch" href="/home/assets/index.html-92795a99.js" as="script"><link rel="prefetch" href="/home/assets/index.html-04672d2e.js" as="script"><link rel="prefetch" href="/home/assets/js1.html-1bf94050.js" as="script"><link rel="prefetch" href="/home/assets/js2.html-6aaf6801.js" as="script"><link rel="prefetch" href="/home/assets/js3.html-60de7978.js" as="script"><link rel="prefetch" href="/home/assets/js4.html-3e332e73.js" as="script"><link rel="prefetch" href="/home/assets/js5.html-b240f82c.js" as="script"><link rel="prefetch" href="/home/assets/ts1.html-0f09083e.js" as="script"><link rel="prefetch" href="/home/assets/index.html-60500d4f.js" as="script"><link rel="prefetch" href="/home/assets/csstip.html-31c8338f.js" as="script"><link rel="prefetch" href="/home/assets/hcbase.html-00b1dbc4.js" as="script"><link rel="prefetch" href="/home/assets/less.html-8dfdf81f.js" as="script"><link rel="prefetch" href="/home/assets/sass.html-097b558e.js" as="script"><link rel="prefetch" href="/home/assets/1.html-ee279dc9.js" as="script"><link rel="prefetch" href="/home/assets/2.html-ea48ae47.js" as="script"><link rel="prefetch" href="/home/assets/3.html-56e318bb.js" as="script"><link rel="prefetch" href="/home/assets/4.html-21ddd4df.js" as="script"><link rel="prefetch" href="/home/assets/5.html-4e028740.js" as="script"><link rel="prefetch" href="/home/assets/6.html-1e56a390.js" as="script"><link rel="prefetch" href="/home/assets/7.html-2aad9909.js" as="script"><link rel="prefetch" href="/home/assets/8.html-0e93f5ad.js" as="script"><link rel="prefetch" href="/home/assets/9.html-1b1a54f8.js" as="script"><link rel="prefetch" href="/home/assets/index.html-390d251d.js" as="script"><link rel="prefetch" href="/home/assets/new.html-4909e6e9.js" as="script"><link rel="prefetch" href="/home/assets/1.html-8e267b42.js" as="script"><link rel="prefetch" href="/home/assets/index.html-e4a85ef6.js" as="script"><link rel="prefetch" href="/home/assets/1.html-ebb6ef07.js" as="script"><link rel="prefetch" href="/home/assets/index.html-6ad763f5.js" as="script"><link rel="prefetch" href="/home/assets/index.html-a9a227ca.js" as="script"><link rel="prefetch" href="/home/assets/api_tutorial.html-d05b5eae.js" as="script"><link rel="prefetch" href="/home/assets/base_tutorial.html-b220ca7c.js" as="script"><link rel="prefetch" href="/home/assets/pinia.html-ad89cc2b.js" as="script"><link rel="prefetch" href="/home/assets/vue2.html-c826bb7d.js" as="script"><link rel="prefetch" href="/home/assets/vue3_1.html-a37de0ac.js" as="script"><link rel="prefetch" href="/home/assets/vue3_2.html-139575b7.js" as="script"><link rel="prefetch" href="/home/assets/index.html-9b7d00ea.js" as="script"><link rel="prefetch" href="/home/assets/base_concept.html-1cd074b0.js" as="script"><link rel="prefetch" href="/home/assets/python_usage.html-c410d9c9.js" as="script"><link rel="prefetch" href="/home/assets/pytorch_usage.html-c7ef93d0.js" as="script"><link rel="prefetch" href="/home/assets/index.html-dfaef789.js" as="script"><link rel="prefetch" href="/home/assets/base_usage.html-fe61a196.js" as="script"><link rel="prefetch" href="/home/assets/index.html-b5f49307.js" as="script"><link rel="prefetch" href="/home/assets/java_usage.html-1c01b756.js" as="script"><link rel="prefetch" href="/home/assets/python_usage.html-b152c2c8.js" as="script"><link rel="prefetch" href="/home/assets/system_usage.html-bd81c828.js" as="script"><link rel="prefetch" href="/home/assets/index.html-4bb495b3.js" as="script"><link rel="prefetch" href="/home/assets/uniCloud.html-bb9ab1be.js" as="script"><link rel="prefetch" href="/home/assets/uniTips.html-40c353d9.js" as="script"><link rel="prefetch" href="/home/assets/1.html-79ddfa46.js" as="script"><link rel="prefetch" href="/home/assets/2.html-a1378e5d.js" as="script"><link rel="prefetch" href="/home/assets/index.html-61bc6c19.js" as="script"><link rel="prefetch" href="/home/assets/404.html-f78dcf30.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/home/" class=""><!----><span class="site-name">不愿飞的蜂鸟首页</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five研究生"><span class="title">Five研究生</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five研究生"><span class="title">Five研究生</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>区块链研究院池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/ethereum/" class="" aria-label="ethereum"><!--[--><!--]--> ethereum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/blockchaindevelopment/" class="" aria-label="block chain development"><!--[--><!--]--> block chain development <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/docker/" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/golang/" class="router-link-active" aria-label="golang"><!--[--><!--]--> golang <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/prometheus/" class="" aria-label="prometheus"><!--[--><!--]--> prometheus <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/shell/" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java编程池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/java/redis/" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/mysql/" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/jvm/" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/mybatis/" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>不成文研究池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/research/ubuntu/" class="" aria-label="Ubuntu"><!--[--><!--]--> Ubuntu <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/research/GNN/" class="" aria-label="GNN"><!--[--><!--]--> GNN <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/research/python/" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five本科"><span class="title">Five本科</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five本科"><span class="title">Five本科</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/js_ts/" class="" aria-label="JS&amp;TS"><!--[--><!--]--> JS&amp;TS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/page_style/" class="" aria-label="页面&amp;样式"><!--[--><!--]--> 页面&amp;样式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/vite/" class="" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/backend/java/" class="" aria-label="JAVA"><!--[--><!--]--> JAVA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/backend/node/" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/miniprogram/wxmini/" class="" aria-label="微信小程序"><!--[--><!--]--> 微信小程序 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/miniprogram/uni-app/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>服务池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/centos/" class="" aria-label="Centos"><!--[--><!--]--> Centos <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five本科课程"><span class="title">Five本科课程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five本科课程"><span class="title">Five本科课程</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/home/course/operating_system/" class="" aria-label="操作系统"><!--[--><!--]--> 操作系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/home/course/computer_network/" class="" aria-label="计算机网络技术"><!--[--><!--]--> 计算机网络技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/home/course/datastructure_and_algorithm/" class="" aria-label="数据结构和算法"><!--[--><!--]--> 数据结构和算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five杂学"><span class="title">Five杂学</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five杂学"><span class="title">Five杂学</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/juc/" class="" aria-label="JUC"><!--[--><!--]--> JUC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/netty/" class="" aria-label="Netty"><!--[--><!--]--> Netty <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/security/" class="" aria-label="Security"><!--[--><!--]--> Security <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/service/" class="" aria-label="Service"><!--[--><!--]--> Service <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Net池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/http/" class="" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/sse/" class="" aria-label="SSE"><!--[--><!--]--> SSE <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/websocket/" class="" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>其他</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/githubaction/" class="" aria-label="GithubAction"><!--[--><!--]--> GithubAction <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/liushun-ing" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five研究生"><span class="title">Five研究生</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five研究生"><span class="title">Five研究生</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>区块链研究院池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/ethereum/" class="" aria-label="ethereum"><!--[--><!--]--> ethereum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/blockchaindevelopment/" class="" aria-label="block chain development"><!--[--><!--]--> block chain development <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/docker/" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/golang/" class="router-link-active" aria-label="golang"><!--[--><!--]--> golang <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/prometheus/" class="" aria-label="prometheus"><!--[--><!--]--> prometheus <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/gointern/shell/" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java编程池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/java/redis/" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/mysql/" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/jvm/" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/java/mybatis/" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>不成文研究池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/master/research/ubuntu/" class="" aria-label="Ubuntu"><!--[--><!--]--> Ubuntu <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/research/GNN/" class="" aria-label="GNN"><!--[--><!--]--> GNN <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/master/research/python/" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five本科"><span class="title">Five本科</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five本科"><span class="title">Five本科</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/js_ts/" class="" aria-label="JS&amp;TS"><!--[--><!--]--> JS&amp;TS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/page_style/" class="" aria-label="页面&amp;样式"><!--[--><!--]--> 页面&amp;样式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/vite/" class="" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/frontend/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/backend/java/" class="" aria-label="JAVA"><!--[--><!--]--> JAVA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/backend/node/" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/miniprogram/wxmini/" class="" aria-label="微信小程序"><!--[--><!--]--> 微信小程序 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/tech/miniprogram/uni-app/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>服务池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/tech/centos/" class="" aria-label="Centos"><!--[--><!--]--> Centos <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five本科课程"><span class="title">Five本科课程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five本科课程"><span class="title">Five本科课程</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/home/course/operating_system/" class="" aria-label="操作系统"><!--[--><!--]--> 操作系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/home/course/computer_network/" class="" aria-label="计算机网络技术"><!--[--><!--]--> 计算机网络技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/home/course/datastructure_and_algorithm/" class="" aria-label="数据结构和算法"><!--[--><!--]--> 数据结构和算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Five杂学"><span class="title">Five杂学</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Five杂学"><span class="title">Five杂学</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/juc/" class="" aria-label="JUC"><!--[--><!--]--> JUC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/netty/" class="" aria-label="Netty"><!--[--><!--]--> Netty <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/security/" class="" aria-label="Security"><!--[--><!--]--> Security <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/service/" class="" aria-label="Service"><!--[--><!--]--> Service <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Net池</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/http/" class="" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/sse/" class="" aria-label="SSE"><!--[--><!--]--> SSE <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/home/trivia/websocket/" class="" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>其他</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/home/trivia/githubaction/" class="" aria-label="GithubAction"><!--[--><!--]--> GithubAction <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/liushun-ing" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Golang <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/home/master/gointern/golang/" class="router-link-active sidebar-item" aria-label="Navigation"><!--[--><!--]--> Navigation <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/goweb.html" class="sidebar-item" aria-label="Go-Web"><!--[--><!--]--> Go-Web <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Protobuf3"><!--[--><!--]--> Protobuf3 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#定义一个消息类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="定义一个消息类型"><!--[--><!--]--> 定义一个消息类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#标量数据类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="标量数据类型"><!--[--><!--]--> 标量数据类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#默认值" class="router-link-active router-link-exact-active sidebar-item" aria-label="默认值"><!--[--><!--]--> 默认值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#枚举" class="router-link-active router-link-exact-active sidebar-item" aria-label="枚举"><!--[--><!--]--> 枚举 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#使用其他消息类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用其他消息类型"><!--[--><!--]--> 使用其他消息类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#导入定义" class="router-link-active router-link-exact-active sidebar-item" aria-label="导入定义"><!--[--><!--]--> 导入定义 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#嵌套类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="嵌套类型"><!--[--><!--]--> 嵌套类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#映射-maps" class="router-link-active router-link-exact-active sidebar-item" aria-label="映射（Maps）"><!--[--><!--]--> 映射（Maps） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#包-packages" class="router-link-active router-link-exact-active sidebar-item" aria-label="包（Packages）"><!--[--><!--]--> 包（Packages） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#定义服务" class="router-link-active router-link-exact-active sidebar-item" aria-label="定义服务"><!--[--><!--]--> 定义服务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#json-映射" class="router-link-active router-link-exact-active sidebar-item" aria-label="JSON 映射"><!--[--><!--]--> JSON 映射 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/home/master/gointern/golang/protobuf.html#生成你的类" class="router-link-active router-link-exact-active sidebar-item" aria-label="生成你的类"><!--[--><!--]--> 生成你的类 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/home/master/gointern/golang/rpc.html" class="sidebar-item" aria-label="Go-RPC"><!--[--><!--]--> Go-RPC <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/gin.html" class="sidebar-item" aria-label="Gin Web 框架"><!--[--><!--]--> Gin Web 框架 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/distributed.html" class="sidebar-item" aria-label="Go 分布式系统"><!--[--><!--]--> Go 分布式系统 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/gorm_1.html" class="sidebar-item" aria-label="GORM-1"><!--[--><!--]--> GORM-1 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/gorm_2.html" class="sidebar-item" aria-label="GORM-2"><!--[--><!--]--> GORM-2 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/test.html" class="sidebar-item" aria-label="Go Test"><!--[--><!--]--> Go Test <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/template.html" class="sidebar-item" aria-label="Template"><!--[--><!--]--> Template <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/embed.html" class="sidebar-item" aria-label="embed包"><!--[--><!--]--> embed包 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/dependency.html" class="sidebar-item" aria-label="依赖管理"><!--[--><!--]--> 依赖管理 <!--[--><!--]--></a><!----></li><li><a href="/home/master/gointern/golang/gowork.html" class="sidebar-item" aria-label="go.work"><!--[--><!--]--> go.work <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="protobuf3" tabindex="-1"><a class="header-anchor" href="#protobuf3" aria-hidden="true">#</a> Protobuf3</h1><p>Protocol Buffer (简称Protobuf) 是Google出品的性能优异、跨语言、跨平台的序列化库。</p><p>序列化(serialization、marshalling)的过程是指将数据结构或者对象的状态转换成可以存储(比如文件、内存)或者传输的格式(比如网络)。反向操作就是反序列化(deserialization、unmarshalling)的过程。</p><h2 id="定义一个消息类型" tabindex="-1"><a class="header-anchor" href="#定义一个消息类型" aria-hidden="true">#</a> 定义一个消息类型</h2><p>简单例子</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">syntax</span> <span class="token operator">=</span> <span class="token string">&quot;proto3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">message</span> <span class="token class-name">SearchRequest</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> query <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> page_number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> result_per_page <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>文件的第一行指定了正在使用proto3语法：如果没有指定这个，编译器会使用proto2。这个指定语法行必须是<strong>文件的非空非注释的第一个行</strong>。</li><li>SearchRequest消息格式有3个字段，在消息中承载的数据分别对应于每一个字段。其中每个字段都有一个名字和一种类型。</li></ul><blockquote><p>1 指定字段类型</p></blockquote><p>在上面的例子中，所有字段都是标量类型：两个整型（page_number和result_per_page），一个string类型（query）。当然，也可以为字段指定其他的合成类型，包括枚举（enumerations）或其他消息类型。</p><blockquote><p>2 分配标识号</p></blockquote><p><strong>在消息定义中，每个字段都有唯一的一个数字标识符</strong>。这些标识符是用来在消息的二进制格式中识别各个字段的，一旦开始使用就不能够再改变。注：[1,15]之内的标识号在编码的时候会占用一个字节。[16,2047]之内的标识号则占用2个字节。所以应该为那些频繁出现的消息元素保留 [1,15]之内的标识号。切记：要为将来有可能添加的、频繁出现的标识号预留一些标识号。</p><p>最小的标识号可以从1开始，最大到2^29 - 1, or 536,870,911。不可以使用其中的[19000－19999]（ (从FieldDescriptor::kFirstReservedNumber 到 FieldDescriptor::kLastReservedNumber)）的标识号， Protobuf协议实现中对这些进行了预留。如果非要在.proto文件中使用这些预留标识号，编译时就会报警。同样也不能使用早期保留的标识号。</p><blockquote><p>3 指定字段规则</p></blockquote><p>所指定的消息字段修饰符必须是如下之一：</p><ul><li>singular：一个格式良好的消息应该有0个或者1个这种字段（但是不能超过1个）。</li><li>repeated：在一个格式良好的消息中，这种字段可以重复任意多次（包括0次），对于 go 就是生成切片。重复的值的顺序会被保留。</li></ul><p>在proto3中，repeated的标量域默认情况下使用packed。</p><blockquote><p>4 添加更多消息类型</p></blockquote><p>在一个.proto文件中可以定义多个消息类型。如果想定义与SearchResponse消息类型对应的回复消息格式的话，可以将它添加到相同的.proto文件中，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SearchRequest</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> query <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> page_number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> result_per_page <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">SearchResponse</span> <span class="token punctuation">{</span>
 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>5 添加注释</p></blockquote><p>向.proto文件添加注释，可以使用C/C++/java风格的双斜杠（//） 语法格式，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SearchRequest</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> query <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> page_number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// Which page number do we want?</span>
  <span class="token builtin">int32</span> result_per_page <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// Number of results to return per page.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>6 保留标识符（Reserved）</p></blockquote><p>如果通过删除或者注释所有域，以后的用户可以重用标识号。可以通过指定保留标识符来确保别人不使用某些标识号，protocol buffer的编译器会警告未来尝试使用这些域标识符的用户</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">reserved</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token keyword">to</span> <span class="token number">11</span><span class="token punctuation">;</span>
  <span class="token keyword">reserved</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：不要在同一行reserved声明中同时声明域名字和标识号</p><blockquote><p>从.proto文件生成了什么？</p></blockquote><p>当用protocol buffer编译器来运行.proto文件时，编译器将生成所选择语言的代码，这些代码可以操作在.proto文件中定义的消息类型，包括获取、设置字段值，将消息序列化到一个输出流中，以及从一个输入流中解析消息。</p><ul><li>对Java来说，编译器为每一个消息类型生成了一个.java文件，以及一个特殊的Builder类（该类是用来创建消息类接口的）。</li><li>对go来说，编译器会位每个消息类型生成了一个.pd.go文件。</li></ul><h2 id="标量数据类型" tabindex="-1"><a class="header-anchor" href="#标量数据类型" aria-hidden="true">#</a> 标量数据类型</h2><p>一个标量消息字段可以含有一个如下的类型——该表格展示了定义于.proto文件中的类型，以及与之对应的、在自动生成的访问类中定义的类型：</p><table><thead><tr><th>.proto Type</th><th>Notes</th><th>C++ Type</th><th>Java Type</th><th>Go Type</th></tr></thead><tbody><tr><td>double</td><td></td><td>double</td><td>double</td><td>float64</td></tr><tr><td>float</td><td></td><td>float</td><td>float</td><td>float32</td></tr><tr><td>int32</td><td>使用变长编码，对于负值的效率很低，如果你的域有可能有负值，请使用sint64替代</td><td>int32</td><td>int</td><td>int32</td></tr><tr><td>uint32</td><td>使用变长编码</td><td>uint32</td><td>int</td><td>uint32</td></tr><tr><td>uint64</td><td>使用变长编码</td><td>uint64</td><td>long</td><td>uint64</td></tr><tr><td>sint32</td><td>使用变长编码，这些编码在负值时比int32高效的多</td><td>int32</td><td>int</td><td>int32</td></tr><tr><td>sint64</td><td>使用变长编码，有符号的整型值。编码时比通常的int64高效。</td><td>int64</td><td>long</td><td>int64</td></tr><tr><td>fixed32</td><td>总是4个字节，如果数值总是比总是比228大的话，这个类型会比uint32高效。</td><td>uint32</td><td>int</td><td>uint32</td></tr><tr><td>fixed64</td><td>总是8个字节，如果数值总是比总是比256大的话，这个类型会比uint64高效。</td><td>uint64</td><td>long</td><td>uint64</td></tr><tr><td>sfixed32</td><td>总是4个字节</td><td>int32</td><td>int</td><td>int32</td></tr><tr><td>sfixed64</td><td>总是8个字节</td><td>int64</td><td>long</td><td>int64</td></tr><tr><td>bool</td><td></td><td>bool</td><td>boolean</td><td>bool</td></tr><tr><td>string</td><td>一个字符串必须是UTF-8编码或者7-bit ASCII编码的文本。</td><td>string</td><td>String</td><td>string</td></tr><tr><td>bytes</td><td>可能包含任意顺序的字节数据。</td><td>string</td><td>ByteString</td><td>[]byte</td></tr></tbody></table><h2 id="默认值" tabindex="-1"><a class="header-anchor" href="#默认值" aria-hidden="true">#</a> 默认值</h2><p>当一个消息被解析的时候，如果被编码的信息不包含一个特定的singular元素，被解析的对象锁对应的域被设置为一个默认值，对于不同类型指定如下：</p><ul><li><p>对于strings，默认是一个空string</p></li><li><p>对于bytes，默认是一个空的bytes</p></li><li><p>对于bools，默认是false</p></li><li><p>对于数值类型，默认是0</p></li><li><p>对于枚举，默认是第一个定义的枚举值，必须为0;</p></li><li><p>对于消息类型（message），域没有被设置，确切的消息是根据语言确定的，详见<a href="https://developers.google.com/protocol-buffers/docs/reference/overview?hl=zh-cn" target="_blank" rel="noopener noreferrer">generated code guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></li></ul><p>对于可重复域的默认值是空（通常情况下是对应语言中空列表）。</p><p>注：对于标量消息域，一旦消息被解析，就无法判断域释放被设置为默认值（例如，例如boolean值是否被设置为false）还是根本没有被设置。你应该在定义你的消息类型时非常注意。例如，比如你不应该定义boolean的默认值false作为任何行为的触发方式。也应该注意如果一个标量消息域被设置为标志位，这个值不应该被序列化传输。</p><h2 id="枚举" tabindex="-1"><a class="header-anchor" href="#枚举" aria-hidden="true">#</a> 枚举</h2><p>当需要定义一个消息类型的时候，可能想为一个字段指定某“预定义值序列”中的一个值。例如，假设要为每一个SearchRequest消息添加一个 corpus字段，而corpus的值可能是UNIVERSAL，WEB，IMAGES，LOCAL，NEWS，PRODUCTS或VIDEO中的一个。 其实可以很容易地实现这一点：通过向消息定义中添加一个枚举（enum）并且为每个可能的值定义一个常量就可以了。</p><p>在下面的例子中，在消息格式中添加了一个叫做Corpus的枚举类型——它含有所有可能的值 ——以及一个类型为Corpus的字段：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SearchRequest</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> query <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> page_number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> result_per_page <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">enum</span> <span class="token class-name">Corpus</span> <span class="token punctuation">{</span>
    UNIVERSAL <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    WEB <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    IMAGES <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    LOCAL <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    NEWS <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    PRODUCTS <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    VIDEO <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token positional-class-name class-name">Corpus</span> corpus <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是生成的 go 代码：</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">type</span> SearchRequest_Corpus <span class="token builtin">int32</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
	SearchRequest_UNIVERSAL SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">0</span>
	SearchRequest_WEB       SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">1</span>
	SearchRequest_IMAGES    SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">2</span>
	SearchRequest_LOCAL     SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">3</span>
	SearchRequest_NEWS      SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">4</span>
	SearchRequest_PRODUCTS  SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">5</span>
	SearchRequest_VIDEO     SearchRequest_Corpus <span class="token operator">=</span> <span class="token number">6</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> SearchRequest <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	state         protoimpl<span class="token punctuation">.</span>MessageState
	sizeCache     protoimpl<span class="token punctuation">.</span>SizeCache
	unknownFields protoimpl<span class="token punctuation">.</span>UnknownFields

	Query         <span class="token builtin">string</span>	<span class="token string">`protobuf:&quot;bytes,1,opt,name=query,proto3&quot; json:&quot;query,omitempty&quot;`</span>
	PageNumber    <span class="token builtin">int32</span>		<span class="token string">`protobuf:&quot;varint,2,opt,name=page_number,json=pageNumber,proto3&quot; json:&quot;page_number,omitempty&quot;`</span>
	ResultPerPage <span class="token builtin">int32</span>		<span class="token string">`protobuf:&quot;varint,3,opt,name=result_per_page,json=resultPerPage,proto3&quot; json:&quot;result_per_page,omitempty&quot;`</span>
	Corpus        SearchRequest_Corpus		<span class="token string">`protobuf:&quot;varint,4,opt,name=corpus,proto3,enum=SearchRequest_Corpus&quot; json:&quot;corpus,omitempty&quot;`</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Corpus枚举的第一个常量映射为0：每个枚举类型必须将其第一个类型映射为0，这是因为：</p><ul><li>必须有一个0值，可以用这个0值作为默认值。</li><li>这个零值必须为第一个元素，为了兼容proto2语义，枚举类的第一个值总是默认值。</li></ul><p>可以通过将不同的枚举常量指定位相同的值。如果这样做需要将allow_alias设定位true，否则编译器会在别名的地方产生一个错误信息。</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">enum</span> <span class="token class-name">EnumAllowingAlias</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> allow_alias <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  UNKNOWN <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  STARTED <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  RUNNING <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token class-name">EnumNotAllowingAlias</span> <span class="token punctuation">{</span>
  UNKNOWN <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  STARTED <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// RUNNING = 1;  // Uncommenting this line will cause a compile error inside Google and a warning message outside.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>枚举常量必须在32位整型值的范围内。因为enum值是使用可变编码方式的，对负数不够高效，因此不推荐在enum中使用负数。如上例所示，可以在 一个消息定义的内部或外部定义枚举——这些枚举可以在.proto文件中的任何消息定义里重用。当然也可以在一个消息中声明一个枚举类型，而在另一个不同 的消息中使用它——采用MessageType.EnumType的语法格式。</p><p>当对一个使用了枚举的.proto文件运行protocol buffer编译器的时候，生成的代码中将有一个对应的enum（对Java或C++来说），或者一个特殊的EnumDescriptor类（对 Python来说），它被用来在运行时生成的类中创建一系列的整型值符号常量（symbolic constants）。</p><p>在反序列化的过程中，无法识别的枚举值会被保存在消息中，虽然这种表示方式需要依据所使用语言而定。在那些支持开放枚举类型超出指定范围之外的语言中（例如C++和Go），未识别的值会被表示成所支持的整型。在使用封闭枚举类型的语言中（Java），使用枚举中的一个类型来表示未识别的值，并且可以使用所支持整型来访问。在其他情况下，如果解析的消息被序列号，未识别的值将保持原样。</p><h2 id="使用其他消息类型" tabindex="-1"><a class="header-anchor" href="#使用其他消息类型" aria-hidden="true">#</a> 使用其他消息类型</h2><p>你可以将其他消息类型用作字段类型。例如，假设在每一个SearchResponse消息中包含Result消息，此时可以在相同的.proto文件中定义一个Result消息类型，然后在SearchResponse消息中指定一个Result类型的字段，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SearchResponse</span> <span class="token punctuation">{</span>
  <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Result</span> results <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> url <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token builtin">string</span> title <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">repeated</span> <span class="token builtin">string</span> snippets <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="导入定义" tabindex="-1"><a class="header-anchor" href="#导入定义" aria-hidden="true">#</a> 导入定义</h2><p>可以通过导入（importing）其他.proto文件中的定义来使用它们。</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">import</span> <span class="token string">&quot;myproject/other_protos.proto&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>默认情况下你只能使用直接导入的.proto文件中的定义，不具备依赖的传递引入</strong>，这种情况就需要使用 public 关键字</p><p><strong>公开导入（import public）</strong></p><ul><li>import public 不仅在当前文件中引用另一个 .proto 文件，还将被导入文件的定义向其他导入当前文件的 .proto 文件公开。</li><li>这意味着如果有一个文件 A.proto 使用 import public 引入 B.proto，并且文件 C.proto 引入了 A.proto，那么 C.proto 也可以直接访问 B.proto 中的定义，而无需显式地导入 B.proto。</li></ul><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token comment">// B.proto</span>
<span class="token keyword">message</span> <span class="token class-name">MessageB</span> <span class="token punctuation">{</span>
    <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// A.proto</span>
<span class="token keyword">import</span> <span class="token keyword">public</span> <span class="token string">&quot;B.proto&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">message</span> <span class="token class-name">MessageA</span> <span class="token punctuation">{</span>
    <span class="token positional-class-name class-name">MessageB</span> message_b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// C.proto</span>
<span class="token keyword">import</span> <span class="token string">&quot;A.proto&quot;</span><span class="token punctuation">;</span> <span class="token comment">// No need to import &quot;B.proto&quot;</span>
<span class="token keyword">message</span> <span class="token class-name">MessageC</span> <span class="token punctuation">{</span>
    <span class="token positional-class-name class-name">MessageA</span> message_a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token positional-class-name class-name">MessageB</span> message_b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// Can use MessageB directly</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>简化依赖管理</strong>：通过 import public，可以简化多层次的依赖关系。只需在一个公共文件中导入依赖，然后其他文件可以通过导入这个公共文件间接获得这些依赖。</li><li><strong>提高可读性</strong>：使得文件间的关系更加清晰，可以避免在每个文件中重复导入同样的依赖。</li></ul><h2 id="嵌套类型" tabindex="-1"><a class="header-anchor" href="#嵌套类型" aria-hidden="true">#</a> 嵌套类型</h2><p>可以在其他消息类型中定义、使用消息类型，在下面的例子中，Result消息就定义在SearchResponse消息内，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SearchResponse</span> <span class="token punctuation">{</span>
  <span class="token keyword">message</span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
    <span class="token builtin">string</span> url <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token builtin">string</span> title <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">repeated</span> <span class="token builtin">string</span> snippets <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Result</span> results <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想在它的父消息类型的外部重用这个消息类型，需要以Parent.Type的形式使用它，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">SomeOtherMessage</span> <span class="token punctuation">{</span>
  <span class="token positional-class-name class-name">SearchResponse<span class="token punctuation">.</span>Result</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然，也可以将消息嵌套任意多层，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>       <span class="token comment">// Level 0</span>
  <span class="token keyword">message</span> <span class="token class-name">MiddleAA</span> <span class="token punctuation">{</span>  <span class="token comment">// Level 1</span>
    <span class="token keyword">message</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>   <span class="token comment">// Level 2</span>
      <span class="token builtin">int64</span> ival <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token builtin">bool</span>  booly <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">message</span> <span class="token class-name">MiddleBB</span> <span class="token punctuation">{</span>  <span class="token comment">// Level 1</span>
    <span class="token keyword">message</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>   <span class="token comment">// Level 2</span>
      <span class="token builtin">int32</span> ival <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token builtin">bool</span>  booly <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="映射-maps" tabindex="-1"><a class="header-anchor" href="#映射-maps" aria-hidden="true">#</a> 映射（Maps）</h2><p>如果你希望创建一个关联映射，protocol buffer提供了一种快捷的语法：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token map class-name">map<span class="token punctuation">&lt;</span>key_type<span class="token punctuation">,</span> value_type<span class="token punctuation">&gt;</span></span> map_field <span class="token operator">=</span> N<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中key_type可以是任意Integer或者string类型（所以，除了floating和bytes的任意标量类型都是可以的）value_type可以是任意类型。</p><p>例如，如果希望创建一个project的映射，每个Project使用一个string作为key，可以像下面这样定义：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token map class-name">map<span class="token punctuation">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Project<span class="token punctuation">&gt;</span></span> projects <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Map的字段可以是repeated。</li><li>序列化后的顺序和map迭代器的顺序是不确定的</li><li>当为.proto文件产生生成文本格式的时候，map会按照 key 的顺序排序，数值化的key会按照数值排序。</li><li>从序列化中解析或者融合时，如果有重复的key则后一个key不会被使用，当从文本格式中解析map时，如果存在重复的key。</li></ul><h2 id="包-packages" tabindex="-1"><a class="header-anchor" href="#包-packages" aria-hidden="true">#</a> 包（Packages）</h2><p>可以为.proto文件新增一个可选的package声明符，用来防止不同的消息类型有命名冲突。如：</p><p>package foo.bar; message Open { ... }</p><p>在其他的消息格式定义中可以使用包名+消息名的方式来定义域的类型，如：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">required</span> <span class="token positional-class-name class-name">foo<span class="token punctuation">.</span>bar<span class="token punctuation">.</span>Open</span> open <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对于Go，包可以被用做Go包名称，除非你显式的提供一个option go_package在你的.proto文件中。</li></ul><h2 id="定义服务" tabindex="-1"><a class="header-anchor" href="#定义服务" aria-hidden="true">#</a> 定义服务</h2><p>如果想要将消息类型用在RPC(远程方法调用)系统中，可以在.proto文件中定义一个RPC服务接口，protocol buffer编译器将会根据所选择的不同语言生成服务接口代码及存根。如，想要定义一个RPC服务并具有一个方法，该方法能够接收 SearchRequest并返回一个SearchResponse，此时可以在.proto文件中进行如下定义：</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">service</span> <span class="token class-name">SearchService</span> <span class="token punctuation">{</span>
  <span class="token keyword">rpc</span> <span class="token function">Search</span> <span class="token punctuation">(</span><span class="token class-name">SearchRequest</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token class-name">SearchResponse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最直观的使用protocol buffer的RPC系统是gRPC，一个由谷歌开发的语言和平台中的开源的PRC系统，gRPC在使用protocl buffer时非常有效，如果使用特殊的protocol buffer插件可以直接从.proto文件中产生相关的RPC代码。</p><h2 id="json-映射" tabindex="-1"><a class="header-anchor" href="#json-映射" aria-hidden="true">#</a> JSON 映射</h2><p>Proto3 支持JSON的编码规范，使他更容易在不同系统之间共享数据，在下表中逐个描述类型。</p><p>如果JSON编码的数据丢失或者其本身就是null，这个数据会在解析成protocol buffer的时候被表示成默认值。如果一个字段在protocol buffer中表示为默认值，在转化成JSON的时候编码的时候忽略掉以节省空间。</p><table><thead><tr><th>proto3</th><th>JSON</th><th>JSON示例</th><th>注意</th></tr></thead><tbody><tr><td>message</td><td>object</td><td>{“fBar”: v, “g”: null, …}</td><td>产生JSON对象，消息字段名可以被映射成lowerCamelCase形式，并且成为JSON对象键，null被接受并成为对应字段的默认值</td></tr><tr><td>enum</td><td>string</td><td>“FOO_BAR”</td><td>枚举值的名字在proto文件中被指定</td></tr><tr><td>map</td><td>object</td><td>{“k”: v, …}</td><td>所有的键都被转换成string</td></tr><tr><td>repeated V</td><td>array</td><td>[v, …]</td><td>null被视为空列表</td></tr><tr><td>bool</td><td>true, false</td><td>true, false</td><td></td></tr><tr><td>string</td><td>string</td><td>“Hello World!”</td><td></td></tr><tr><td>bytes</td><td>base64 string</td><td>“YWJjMTIzIT8kKiYoKSctPUB+”</td><td></td></tr><tr><td>int32, fixed32, uint32</td><td>number</td><td>1, -10, 0</td><td>JSON值会是一个十进制数，数值型或者string类型都会接受</td></tr><tr><td>int64, fixed64, uint64</td><td>string</td><td>“1”, “-10”</td><td>JSON值会是一个十进制数，数值型或者string类型都会接受</td></tr><tr><td>float, double</td><td>number</td><td>1.1, -10.0, 0, “NaN”, “Infinity”</td><td>JSON值会是一个数字或者一个指定的字符串如”NaN”,”infinity”或者”-Infinity”，数值型或者字符串都是可接受的，指数符号也可以接受</td></tr><tr><td>Any</td><td>object</td><td>{“@type”: “url”, “f”: v, … }</td><td>如果一个Any保留一个特上述的JSON映射，则它会转换成一个如下形式：{&quot;@type&quot;: xxx, &quot;value&quot;: yyy}否则，该值会被转换成一个JSON对象，@type字段会被插入所指定的确定的值</td></tr><tr><td>Timestamp</td><td>string</td><td>“1972-01-01T10:00:20.021Z”</td><td>使用RFC 339，其中生成的输出将始终是Z-归一化啊的，并且使用0，3，6或者9位小数</td></tr><tr><td>Duration</td><td>string</td><td>“1.000340012s”, “1s”</td><td>生成的输出总是0，3，6或者9位小数，具体依赖于所需要的精度，接受所有可以转换为纳秒级的精度</td></tr><tr><td>Struct</td><td>object</td><td>{ … }</td><td>任意的JSON对象，见struct.proto</td></tr><tr><td>Wrapper types</td><td>various types</td><td>2, “2”, “foo”, true, “true”, null, 0, …</td><td>包装器在JSON中的表示方式类似于基本类型，但是允许nulll，并且在转换的过程中保留null</td></tr><tr><td>FieldMask</td><td>string</td><td>“f.fooBar,h”</td><td>见fieldmask.proto</td></tr><tr><td>ListValue</td><td>array</td><td>[foo, bar, …]</td><td></td></tr><tr><td>Value</td><td>value</td><td></td><td>任意JSON值</td></tr><tr><td>NullValue</td><td>null</td><td></td><td>JSON null</td></tr></tbody></table><h2 id="生成你的类" tabindex="-1"><a class="header-anchor" href="#生成你的类" aria-hidden="true">#</a> 生成你的类</h2><p>可以通过定义好的.proto文件来生成Java,Python,C++, Ruby, JavaNano, Objective-C,或者C# 代码，需要基于.proto文件运行protocol buffer编译器protoc。</p><p>通过如下方式调用protocol编译器：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>protoc --proto_path=IMPORT_PATH --go_out=DST_DIR path/to/file.proto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>IMPORT_PATH声明了一个.proto文件所在的解析import具体目录。如果忽略该值，则使用当前目录。如果有多个目录则可以多次调用--proto_path，它们将会顺序的被访问并执行导入。-I=IMPORT_PATH是--proto_path的简化形式。</li><li>当然也可以提供一个或多个输出路径： <ul><li>--go_out 在目标目录 DST_DIR 中产生Go代码，可以在GO代码生成参考中查看更多。</li></ul></li></ul><p>生成 go 文件的时候，需要指定 <code>go_package</code></p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">syntax</span> <span class="token operator">=</span> <span class="token string">&quot;proto3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">package</span> example<span class="token punctuation">;</span> <span class="token comment">// 这个是在 proto 文件中使用的包名</span>

<span class="token comment">// 这里必须指定包路径，且必须包含一个. 和/</span>
<span class="token comment">// The import path must contain at least one period (&#39;.&#39;) or forward slash (&#39;/&#39;) character.</span>
<span class="token keyword">option</span> go_package<span class="token operator">=</span><span class="token string">&quot;./a;example&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 这个是生成的代码中的包名,在 a 文件夹下，生成一个 go 文件，包名是 example</span>

<span class="token keyword">message</span> <span class="token class-name">SearchRequest</span> <span class="token punctuation">{</span>
  <span class="token builtin">string</span> query <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">repeated</span> <span class="token builtin">int32</span> page_number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token builtin">int32</span> result_per_page <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1743760069@qq.com">liushun-ing</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/home/master/gointern/golang/goweb.html" class="" aria-label="Go-Web"><!--[--><!--]--> Go-Web <!--[--><!--]--></a></span><span class="next"><a href="/home/master/gointern/golang/rpc.html" class="" aria-label="Go-RPC"><!--[--><!--]--> Go-RPC <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/home/assets/app-19500e8e.js" defer></script>
  </body>
</html>
